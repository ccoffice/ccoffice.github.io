(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["lp-mining"],{"0fae8":function(t,e,i){var o=i("4376");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("499e").default;a("b324fe46",o,!0,{sourceMap:!1,shadowMode:!1})},"102c":function(t,e,i){"use strict";i("d284")},1825:function(t,e,i){"use strict";i("0fae8")},"1bc5":function(t,e,i){t.exports=i.p+"img/empty-record.542cf910.svg"},"35a2":function(t,e,i){var o=i("c6f0");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("499e").default;a("84e6ce6e",o,!0,{sourceMap:!1,shadowMode:!1})},"3cfc":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"deposit",on:{click:function(e){t.show=!1}}},[e("div",{staticClass:"container",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"title"},[e("span",[t._v(t._s(t.$t("deposit.text1")))]),e("i",{staticClass:"el-icon-close click",on:{click:function(e){t.show=!1}}})]),e("div",{staticClass:"content"},[e("div",{staticClass:"input-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{autofocus:"",type:"text",placeholder:"0"},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},t.input]}}),e("span",[t._v("USDT")]),e("button",{on:{click:t.max}},[t._v(t._s(t.$t("deposit.text3")))])]),e("el-button",{attrs:{type:"primary",loading:t.loading||t.approveing},on:{click:t.pledge}},[t._v(t._s(t.stateText))])],1)])])])},a=[],n=i("2f62"),s=i("8346"),r={data(){return{show:!1,balance:0,allowance:0,minValueOnce:0,value:"",loading:!1,approveing:!1}},props:["lpinit"],computed:{...Object(n["b"])(["contracts","address"]),stateText(){return this.loading?this.$t("deposit.text11"):this.approveing?this.$t("deposit.text12"):this.$t("deposit.text6")}},methods:{open(){this.show=!0,this.init()},max(){this.value=this.balance,this.input()},async input(){if(""==this.value)return;const t=await this.contracts.StaticPool.methods.getPowerByUSDT(this.value.toWei()).call();console.log("可获得算力：",t)},pledge(){return this.value<=0?Object(s["c"])(this.$t("deposit.text7"),"error"):this.value.toBN().lt(this.minValueOnce)?Object(s["c"])(this.$t("deposit.text10",{minValueOnce:this.minValueOnce}),"error"):this.balance.toBN().lt(this.value)?Object(s["c"])(this.$t("deposit.text15"),"error"):this.allowance.toBN().lt(this.value)?this.approve():void this.deposit()},approve(){this.approveing=!0,this.contracts.USDTToken.methods.approve(this.contracts.StaticPool.options.address,"1000000000000".toWei()).send({from:this.address}).on("receipt",()=>{Object(s["c"])(this.$t("node.text19"),"success"),this.contracts.USDTToken.methods.allowance(this.address,this.contracts.StaticPool.options.address).call((t,e)=>{t||(this.allowance=e.fromWei(),this.pledge())})}).on("error",t=>{console.log(t),this.approveing=!1,Object(s["c"])(this.$t("node.text20"),"error")})},deposit(){this.approveing=!1,this.loading=!0;const t=this.contracts.StaticPool.methods.deposit(this.contracts.CCToken.options.address,this.value.toWei());t.call({from:this.address},(e,i)=>{e?(this.loading=!1,Object(s["c"])(this.$t("deposit.text9"),"error")):t.send({from:this.address}).on("receipt",async()=>{Object(s["c"])(this.$t("deposit.text8"),"success"),this.value="",this.init(),this.$emit("lpinit"),this.loading=!1}).on("error",()=>{this.loading=!1,Object(s["c"])(this.$t("deposit.text9"),"error")})})},init(){this.contracts.USDTToken.methods.balanceOf(this.address).call((t,e)=>{t||(this.balance=e.fromWei())}),this.contracts.USDTToken.methods.allowance(this.address,this.contracts.StaticPool.options.address).call((t,e)=>{t||(this.allowance=e.fromWei())}),this.contracts.StaticPool.methods.tokenConfigOf(this.contracts.CCToken.options.address).call((t,e)=>{t||(this.minValueOnce=e.minValueOnce.fromWei())})}}},l=r,d=l,p=(i("1825"),i("2877")),c=Object(p["a"])(d,o,a,!1,null,"36ff7761",null);e["default"]=c.exports},4376:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".deposit[data-v-36ff7761]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;flex-direction:row}.deposit>.container[data-v-36ff7761]{width:498px;border-radius:20px;padding:21px 0 53px;background-color:#301b50;border:1px solid #8757fa}.deposit>.container>.title[data-v-36ff7761]{position:relative;padding-bottom:26px;border-bottom:1px solid #8757fa;color:#fff;font-size:18px;line-height:24px}.deposit>.container>.title>.el-icon-close[data-v-36ff7761]{position:absolute;top:-5px;right:25px}.deposit>.container>.content[data-v-36ff7761]{padding:73px 52px 0}.deposit>.container>.content>.input-container[data-v-36ff7761]{display:flex;align-items:center;justify-content:space-between;flex-direction:row;color:#8178c7;font-size:16px;line-height:21px;border:1px solid #cc1cf7;border-radius:10px;background-color:#000;padding:10px 11px 10px 0}.deposit>.container>.content>.input-container>input[data-v-36ff7761]{width:100%;border:none;outline:none;text-align:right;margin-right:.5em;background-color:transparent;color:#fff;font-size:16px;line-height:21px}.deposit>.container>.content>.input-container>button[data-v-36ff7761]{flex-shrink:0;margin-left:14px;border-radius:4px;padding:7px 10px 6px;background-image:none;background-color:#40267e;border:1px solid #9a18f5}.deposit>.container>.content>button[data-v-36ff7761]{width:216px;height:50px;margin-top:45px}@media screen and (max-width:736px){.deposit>.container[data-v-36ff7761]{width:9.2rem;padding:19px 0 33px}.deposit>.container>.title[data-v-36ff7761]{padding-bottom:19px;font-size:16px;line-height:21px}.deposit>.container>.title>.el-icon-close[data-v-36ff7761]{top:2px;right:18px}.deposit>.container>.content[data-v-36ff7761]{padding:33px 22px 0}.deposit>.container>.content>.input-container[data-v-36ff7761]{padding:10px 12px 10px 0}.deposit>.container>.content>button[data-v-36ff7761]{margin-top:45px}}",""]),t.exports=e},"54c3":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".take-record[data-v-2f5f758d]{position:fixed!important;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;flex-direction:row}.take-record>.box[data-v-2f5f758d]{width:643px;border-radius:20px;padding:18px 36px 55px 34px;background-color:#301b50;border:1px solid #8757fa}.take-record>.box>.header[data-v-2f5f758d]{display:flex;align-items:center;justify-content:space-between;flex-direction:row}.take-record>.box>.header>.token[data-v-2f5f758d]{display:flex;align-items:flex-end;justify-content:center;flex-direction:row;color:#fff;font-size:16px;line-height:21px}.take-record>.box>.header>.token>.logo[data-v-2f5f758d]{width:65px;overflow:hidden;margin-right:20px;display:flex;align-items:flex-end;justify-content:flex-start;flex-direction:row}.take-record>.box>.header>.token>.logo>img[data-v-2f5f758d]:first-child{width:47px}.take-record>.box>.header>.token>.logo>img[data-v-2f5f758d]:nth-child(2){width:36px;transform:translateX(-18px)}.take-record>.box>.header>.token>.symbol[data-v-2f5f758d]{padding-bottom:5px}.take-record>.box>.header>.el-icon-close[data-v-2f5f758d]{color:#fff;font-size:18px;line-height:18px}.take-record>.box>.record[data-v-2f5f758d]{height:382.5px;overflow:hidden;margin-top:41px;border-radius:10px;background-color:#181525;position:relative}.take-record>.box>.record>.title[data-v-2f5f758d]{display:grid;height:51.5px;background-color:#201b36;grid-template-columns:repeat(3,1fr);color:#fff;font-size:14px;line-height:51.5px}.take-record>.box>.record>.lists[data-v-2f5f758d]{height:320px;overflow:hidden auto}.take-record>.box>.record>.lists>.item[data-v-2f5f758d]{display:grid;height:51.5px;grid-template-columns:repeat(3,1fr);color:#fff;font-size:14px;align-items:center}.take-record>.box>.record>.empty[data-v-2f5f758d]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#8178c7;font-size:14px;line-height:19px;display:flex;align-items:center;justify-content:center;flex-direction:column}.take-record>.box>.record>.empty>img[data-v-2f5f758d]{width:56px;margin-bottom:17px}@media screen and (max-width:1000px){.take-record>.box[data-v-2f5f758d]{width:9.2rem;border-radius:20px;padding:13px 15px 23px}.take-record>.box>.header[data-v-2f5f758d]{padding-bottom:16px}.take-record>.box>.header>.info>.logo[data-v-2f5f758d]{width:48px;margin-right:.1333rem}.take-record>.box>.header>.info>.logo>img[data-v-2f5f758d]:first-child{width:35px}.take-record>.box>.header>.info>.logo>img[data-v-2f5f758d]:nth-child(2){width:26px;transform:translateX(-13px)}.take-record>.box>.header>.info>.symbol[data-v-2f5f758d]{padding-bottom:2px;color:#fff;font-size:14px;line-height:20px}.take-record>.box>.header>.info>.symbol>img[data-v-2f5f758d]{width:17.93px;margin-left:8px}.take-record>.box>.header>.el-icon-close[data-v-2f5f758d]{color:#fff;font-size:14px;line-height:14px}.take-record>.box>.record[data-v-2f5f758d]{height:407.5px;margin-top:22px}.take-record>.box>.record>.title[data-v-2f5f758d]{padding-bottom:0;align-content:center;color:#fff;font-size:12px;line-height:17px}.take-record>.box>.record>.lists[data-v-2f5f758d]{height:320px;overflow:hidden auto}.take-record>.box>.record>.lists>.item[data-v-2f5f758d]{display:grid;height:37px;grid-template-columns:repeat(3,1fr);color:#fff;font-size:14px;align-items:center}.take-record>.box>.record>.empty>img[data-v-2f5f758d]{width:44px;margin-bottom:6px}}",""]),t.exports=e},"5e7f":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"take-record",on:{click:function(e){t.show=!1}}},[e("div",{staticClass:"box",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"header"},[e("div",{staticClass:"token"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:i("9f28")}}),e("img",{attrs:{src:i("0f62")}})]),e("span",{staticClass:"symbol"},[t._v(t._s(t.$t("takeRecord.text1")))])]),e("i",{staticClass:"el-icon-close click",on:{click:function(e){t.show=!1}}})]),e("div",{staticClass:"record"},[e("div",{staticClass:"title"},[e("span",[t._v(t._s(t.$t("takeRecord.text2")))]),e("span"),e("span",[t._v(t._s(t.$t("takeRecord.text3")))])]),t.lists.length>0?e("div",{staticClass:"lists"},t._l(t.lists,(function(i){return e("div",{staticClass:"item"},[e("div",[t._v(t._s(i.time))]),e("span"),e("div",[t._v(t._s(i.amount))])])})),0):e("div",{staticClass:"empty"},[e("img",{attrs:{src:i("1bc5")}}),e("span",[t._v(t._s(t.$t("takeRecord.text4")))])])])])])])},a=[],n=i("8346"),s={data(){return{show:!1,tag:"take",lists:[]}},computed:{},methods:{async init(){this.lists=[];let t=await this.$store.state.web3,e=await this.$store.state.contracts.StaticPool.getPastEvents("TakeReward",{fromBlock:t>1e3?t-1e3:0,toBlock:"latest",filter:{user:this.$store.state.address}});if(e.length>0){const t=e.map(t=>({amount:t.returnValues.reward.fromWei().toFixed(2),time:Object(n["a"])(t.returnValues.time),timestamp:Number(t.returnValues.time)}));this.lists=t.sort((t,e)=>e.timestamp-t.timestamp)}},open(t="take"){this.tag=t,this.show=!0,this.init()}}},r=s,l=r,d=(i("102c"),i("2877")),p=Object(d["a"])(l,o,a,!1,null,"2f5f758d",null);e["default"]=p.exports},"60c0":function(t,e,i){"use strict";i("35a2")},"66b0":function(t,e,i){t.exports=i.p+"img/total-power.f19f7635.svg"},ad80:function(t,e,i){t.exports=i.p+"img/lp-mining-banner.1256b4f2.png"},c27a:function(t,e,i){t.exports=i.p+"img/my-power.0c9c0123.svg"},c6f0:function(t,e,i){var o=i("24fb"),a=i("1de5"),n=i("ad80"),s=i("fd61");e=o(!1);var r=a(n),l=a(s);e.push([t.i,".lp-mining>.header[data-v-5e0414c6]{padding:55px 174px 37px 0;border-bottom:1px solid #8757fa;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row;background-size:482px 349px;background-repeat:no-repeat;background-position:467px -31px;background-image:radial-gradient(rgba(215,29,246,.6),transparent,transparent)}.lp-mining>.header>.content[data-v-5e0414c6]{padding-top:14px;display:flex;align-items:flex-start;justify-content:center;flex-direction:column}.lp-mining>.header>.content>h2[data-v-5e0414c6]{font-weight:800;margin-bottom:21px;color:#fff;font-size:30px;line-height:40px}.lp-mining>.header>.content>p[data-v-5e0414c6]{width:421px;text-align:left;color:#8178c7;font-size:14px;line-height:19px}.lp-mining>.header>.banner[data-v-5e0414c6]{width:241px;height:186px;background-size:100%;background-image:url("+r+')}.lp-mining>.pool[data-v-5e0414c6]{border:1px solid #8757fa;width:517px;margin:39px auto 0;border-radius:20px;padding:18px 35px 31px;background-color:#301b50}.lp-mining>.pool>.token[data-v-5e0414c6]{font-weight:700;color:#fff;font-size:18px;line-height:24px}.lp-mining>.pool>.token[data-v-5e0414c6],.lp-mining>.pool>.token>div[data-v-5e0414c6]{display:flex;align-items:center;justify-content:space-between;flex-direction:row}.lp-mining>.pool>.token>div>.logo[data-v-5e0414c6]{width:65px;overflow:hidden;margin-right:18px;display:flex;align-items:flex-end;justify-content:flex-start;flex-direction:row}.lp-mining>.pool>.token>div>.logo>img[data-v-5e0414c6]:first-child{width:47px}.lp-mining>.pool>.token>div>.logo>img[data-v-5e0414c6]:nth-child(2){width:36px;transform:translateX(-18px)}.lp-mining>.pool>.token>.shareOutBonus>button[data-v-5e0414c6]{background-image:none;background-color:#40267e;border:1px solid #9a18f5;font-size:14px;line-height:14px;height:34px}.lp-mining>.pool>.powers[data-v-5e0414c6]{margin-top:37px;border-radius:10px;padding:30px 35px 29px 33px;background-color:#181525}.lp-mining>.pool>.powers>div[data-v-5e0414c6]{color:#fff;font-size:20px;line-height:27px}.lp-mining>.pool>.powers>div[data-v-5e0414c6],.lp-mining>.pool>.powers>div>.title[data-v-5e0414c6]{display:flex;align-items:center;justify-content:space-between;flex-direction:row}.lp-mining>.pool>.powers>div>.title[data-v-5e0414c6]{color:#8757fa;font-size:16px;line-height:21px}.lp-mining>.pool>.powers>div>span[data-v-5e0414c6]{font-weight:700}.lp-mining>.pool>.powers>div.total-power[data-v-5e0414c6]{padding-left:2px}.lp-mining>.pool>.powers>div.total-power img[data-v-5e0414c6]{width:20px;margin-right:14px}.lp-mining>.pool>.powers>div.my-power[data-v-5e0414c6]{margin-top:23px}.lp-mining>.pool>.powers>div.my-power img[data-v-5e0414c6]{width:23px;margin-right:13px}.lp-mining>.pool>.earns[data-v-5e0414c6]{display:grid;padding:35px 0;margin-top:11px;position:relative;border-radius:10px;background-color:#181525;grid-template-columns:repeat(2,1fr)}.lp-mining>.pool>.earns>div[data-v-5e0414c6]{display:flex;align-items:center;justify-content:center;flex-direction:column}.lp-mining>.pool>.earns>div>span[data-v-5e0414c6]:first-child{color:#8757fa;font-size:16px;line-height:21px}.lp-mining>.pool>.earns>div>span[data-v-5e0414c6]:nth-child(2){margin-top:16px;color:#fff;font-size:20px;line-height:27px}.lp-mining>.pool>.earns[data-v-5e0414c6]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:1px;height:64px;background-color:#8757fa}.lp-mining>.pool>.buttons[data-v-5e0414c6]{display:grid;-moz-column-gap:13px;column-gap:13px;margin-top:56px;grid-template-columns:repeat(2,1fr)}.lp-mining>.pool>.buttons>button[data-v-5e0414c6]{height:50px}.lp-mining>.pool>.buttons>button[data-v-5e0414c6]:nth-child(2){background-image:none;background-color:#40267e}.lp-mining>.pool>.click[data-v-5e0414c6]{text-align:right;margin-top:37px;color:#e33bed;font-size:14px;line-height:19px}@media screen and (max-width:1000px){.lp-mining[data-v-5e0414c6]{overflow:hidden;padding:17px 15px 0}.lp-mining>.header[data-v-5e0414c6]{border:none;position:relative;padding:0 0 24px 0;background-image:none}.lp-mining>.header>.content[data-v-5e0414c6]{padding-top:0}.lp-mining>.header>.content>h2[data-v-5e0414c6]{font-size:18px;line-height:24px;margin-bottom:18px}.lp-mining>.header>.content>p[data-v-5e0414c6]{width:6rem;font-size:12px;line-height:19px}.lp-mining>.header>.banner[data-v-5e0414c6]{width:424px;height:263px;position:absolute;top:-59px;right:-199px;z-index:-1;background-image:url('+l+")}.lp-mining>.pool[data-v-5e0414c6]{margin:0;width:100%;padding:15px 19px 39px}.lp-mining>.pool>.token[data-v-5e0414c6]{font-weight:lighter;font-size:14px;line-height:19px}.lp-mining>.pool>.token>div>.logo[data-v-5e0414c6]{width:48px;margin-right:8px}.lp-mining>.pool>.token>div>.logo>img[data-v-5e0414c6]:first-child{width:35px}.lp-mining>.pool>.token>div>.logo>img[data-v-5e0414c6]:nth-child(2){width:26px;transform:translateX(-13px)}.lp-mining>.pool>.token>.shareOutBonus>button[data-v-5e0414c6]{background-image:none;background-color:#40267e;border:1px solid #9a18f5;font-size:14px;line-height:14px;height:34px}.lp-mining>.pool>.powers[data-v-5e0414c6]{margin-top:22px;padding:34px 22px 30px 18px}.lp-mining>.pool>.powers>div[data-v-5e0414c6]{font-size:16px;line-height:21px}.lp-mining>.pool>.powers>div>.title[data-v-5e0414c6]{font-size:14px;line-height:19px}.lp-mining>.pool>.powers>div.total-power img[data-v-5e0414c6]{margin-right:8px}.lp-mining>.pool>.powers>div.my-power[data-v-5e0414c6]{margin-top:28px}.lp-mining>.pool>.powers>div.my-power img[data-v-5e0414c6]{margin-right:7px}.lp-mining>.pool>.earns[data-v-5e0414c6]{padding:31px 0}.lp-mining>.pool>.earns>div>span[data-v-5e0414c6]:first-child{font-size:14px;line-height:19px}.lp-mining>.pool>.earns>div>span[data-v-5e0414c6]:nth-child(2){margin-top:23px;font-size:16px;line-height:21px}.lp-mining>.pool>.buttons[data-v-5e0414c6]{display:grid;-moz-column-gap:15px;column-gap:15px;margin-top:30px;grid-template-columns:repeat(2,1fr)}.lp-mining>.pool>.buttons>button[data-v-5e0414c6]{height:49px}.lp-mining>.pool>.buttons>button[data-v-5e0414c6]:nth-child(2){background-image:none;background-color:#40267e}.lp-mining>.pool>.click[data-v-5e0414c6]{margin-top:26px;font-size:12px;line-height:16px}}",""]),t.exports=e},d284:function(t,e,i){var o=i("54c3");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=i("499e").default;a("0179a3d7",o,!0,{sourceMap:!1,shadowMode:!1})},ea87:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"lp-mining"},[e("div",{staticClass:"header"},[e("div",{staticClass:"content"},[e("h2",[t._v(t._s(t.$t("lpMining.text1")))]),e("p",[t._v(t._s(t.$t("lpMining.text2")))])]),e("div",{staticClass:"banner"})]),e("div",{staticClass:"pool"},[e("div",{staticClass:"token"},[e("div",[t._m(0),e("span",{staticClass:"symbol"},[t._v(t._s(t.$t("lpMining.text14")))])]),e("div",{staticClass:"shareOutBonus"},[e("el-button",{attrs:{type:"primary",loading:t.Bonus,disabled:t.callable},on:{click:t.shareOutBonus}},[t._v(t._s(t.$t("lpMining.text15")))])],1)]),e("div",{staticClass:"powers"},[e("div",{staticClass:"total-power"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:i("66b0")}}),e("span",[t._v(t._s(t.$t("lpMining.text3")))])]),e("span",[t._v(t._s(t.totalPower))])]),e("div",{staticClass:"my-power"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:i("c27a")}}),e("span",[t._v(t._s(t.$t("lpMining.text4")))])]),e("span",[t._v(t._s(t.power))])])]),e("div",{staticClass:"earns"},[e("div",[e("span",[t._v(t._s(t.$t("lpMining.text5")))]),e("span",[t._v(t._s(t.taked))])]),e("div",[e("span",[t._v(t._s(t.$t("lpMining.text6")))]),e("span",[t._v(t._s(t.earned))])])]),e("div",{staticClass:"buttons"},[e("button",{on:{click:t.openDeposit}},[t._v(t._s(t.$t("lpMining.text7")))]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.takeReward}},[t._v(t._s(t.stateText))])],1),e("div",{staticClass:"click",on:{click:function(e){return t.openRecord("take")}}},[t._v(t._s(t.$t("lpMining.text9")))])]),e("take-record",{ref:"TakeRecord"}),e("deposit-box",{ref:"Deposit",on:{lpinit:t.lpinit}})],1)},a=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:i("9f28")}}),e("img",{attrs:{src:i("0f62")}})])}],n=i("8346"),s=i("2f62"),r={components:{"take-record":()=>i.e("lp-mining").then(i.bind(null,"5e7f")),"deposit-box":()=>i.e("lp-mining").then(i.bind(null,"3cfc"))},data(){return{input:"",value:!1,loading:!1,Bonus:!1,callable:!1,totalPower:0,power:0,earned:0,taked:0}},computed:{...Object(s["b"])(["web3","contracts","address"]),stateText(){return this.loading?this.$t("lpMining.text11"):this.$t("lpMining.text8")}},created(){this.contracts&&this.once()},methods:{async lpinit(){const t=await this.contracts.StaticPool.methods.totalPower().call(),e=await this.contracts.StaticPool.methods.userInfoOf(this.address).call(),i=await this.contracts.StaticPool.methods.earned(this.address).call();this.power=e.power.fromWei().toFixed(2),this.earned=i.fromWei().toFixed(2),this.taked=e.taked.fromWei().toFixed(2),this.totalPower=t.fromWei().toFixed(2)},async once(){console.log(this.contracts);const t=await this.contracts.EpochController.methods.callable().call();this.callable=0==t;let e=await this.$store.state.web3,i=await this.$store.state.contracts.StaticPool.getPastEvents("Deposit",{fromBlock:e>1e3?e-1e3:0,toBlock:"latest",filter:{user:this.$store.state.address}}),o=await this.$store.state.contracts.EpochController.getPastEvents("ShareOutBonus",{fromBlock:e>1e3?e-1e3:0,toBlock:"latest",filter:{}});o.map(async t=>{console.log("释放  "+t.returnValues.totalLiquidity.fromWei()+" 代币 "+t.returnValues.totalToken.fromWei()+"    time "+Object(n["a"])(t.returnValues.time))}),i.length>0&&i.map(async t=>{console.log("燃烧量  "+t.returnValues.burnamount.fromWei()+" 价值 "+t.returnValues.depostValue.fromWei()+" 资产流动性  "+t.returnValues.liquidity.fromWei()+" 算力  "+t.returnValues.power.fromWei()+"    time "+Object(n["a"])(t.returnValues.time))});const a=await this.contracts.StaticPool.methods.tokenConfigOf(this.contracts.CCToken._address).call(),s=await this.contracts.SwapPair.methods.balanceOf(this.address).call();console.log("LP余额  "+s.fromWei());const r=await this.contracts.USDTToken.methods.balanceOf(this.contracts.SwapPair._address).call(),l=r.toBN().times(2),d=await this.contracts.SwapPair.methods.totalSupply().call();console.log("总发行     "+l.toFixed().fromWei()),console.log("totalSupply     "+d.toFixed().fromWei());const p=l.div(d);console.log("lp价格         "+p.toFixed()),console.log("cc 比率"+a.radio.fromWei(12)),this.lpinit()},shareOutBonus(){let t=this.contracts.EpochController.methods.shareOutBonus();t.call({from:this.address},(e,i)=>{console.log(e,i),e?(this.Bonus=!1,Object(n["c"])(this.$t("lpMining.text17"),"error")):(this.Bonus=!0,t.send({from:this.address}).on("receipt",async()=>{Object(n["c"])(this.$t("lpMining.text16"),"success"),this.once(),this.Bonus=!1}).on("error",()=>{this.Bonus=!1,Object(n["c"])(this.$t("lpMining.text17"),"error")}))})},takeReward(){if(Number(this.earned)<=0)return Object(n["c"])(this.$t("lpMining.text10"),"error");this.loading=!0;let t=this.contracts.StaticPool.methods.takeReward();t.call({from:this.address},(e,i)=>{e||t.send({from:this.address}).on("receipt",async()=>{Object(n["c"])(this.$t("lpMining.text12"),"success"),this.lpinit(),this.loading=!1}).on("error",()=>{this.loading=!1,Object(n["c"])(this.$t("lpMining.text13"),"error")})})},openRecord(t){this.$refs.TakeRecord.open(t)},openDeposit(){this.$refs.Deposit.open()}}},l=r,d=l,p=(i("60c0"),i("2877")),c=Object(p["a"])(d,o,a,!1,null,"5e0414c6",null);e["default"]=c.exports},fd61:function(t,e,i){t.exports=i.p+"img/lp-bgImg-mobile.7e8e6df1.png"}}]);