(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["community"],{"0aad":function(t,i,e){"use strict";e("a845")},1138:function(t,i,e){t.exports=e.p+"img/coin.8b9ebc57.png"},"301e":function(t,i,e){var a=e("dede");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("499e").default;n("65444bbc",a,!0,{sourceMap:!1,shadowMode:!1})},3312:function(t,i,e){t.exports=e.p+"img/empty-record.45b52dc3.png"},8316:function(t,i,e){t.exports=e.p+"img/team.e7c1c1ea.svg"},8432:function(t,i,e){t.exports=e.p+"img/communityHistory-title.6b6a2b87.png"},9360:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t._self._c;t._self._setupProxy;return i("transition",{attrs:{name:"el-fade-in-linear"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"community-history",on:{click:function(i){t.show=!1}}},[i("div",{staticClass:"container",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"title"},[t.isPC?t._e():i("img",{attrs:{src:e("8432")}}),i("span",[t._v(t._s(t.$t("communityHistory.text1")))]),i("i",{staticClass:"el-icon-close click",on:{click:function(i){t.show=!1}}})]),i("div",{staticClass:"box"},[i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[i("span",[t._v(t._s(t.$t("communityHistory.text6")))]),i("span"),i("span",[t._v(t._s(t.$t("communityHistory.text5")))])]),i("div",{staticClass:"list"},t._l(t.list,(function(e){return i("div",{staticClass:"list-item"},[i("div",[t._v(t._s(e.amount.toFixed(2)))]),i("span"),i("div",[t._v(t._s(e.time))])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.list.length,expression:"!list.length"}],staticClass:"empty"},[i("img",{attrs:{src:e("3312")}}),i("span",[t._v(t._s(t.$t("communityHistory.text7")))])])])])])])])},n=[],o=e("2f62"),d=e("8346"),s={data(){return{show:!1,list:[],isPC:!Object(d["b"])()}},computed:{...Object(o["b"])(["address","contracts"])},created(){this.address&&this.contracts&&this.getData()},methods:{open(){this.show=!0},async getData(){let t=await this.$store.state.web3.eth.getBlockNumber();this.contracts.DynamicFarm.getPastEvents("TakeReward",{filter:{user:this.address},fromBlock:t-500,endBolck:"latest"}).then(t=>{const i=[];for(let e=0;e<t.length;e++)i.push({amount:t[e].returnValues.reward.fromWei(),time:Object(d["a"])(t[e].returnValues.time),timestamp:Number(t[e].returnValues.time)});this.list=i.sort((t,i)=>i.timestamp-t.timestamp)})}}},r=s,c=r,m=(e("0aad"),e("2877")),l=Object(m["a"])(c,a,n,!1,null,"83328252",null);i["default"]=l.exports},9955:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".community-history[data-v-83328252]{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;flex-direction:row;z-index:1}.community-history>.container[data-v-83328252]{width:643px;border-radius:20px;background:#fff;box-sizing:border-box;border:1px solid #082d7e}.community-history>.container>.title[data-v-83328252]{height:79px;position:relative;display:flex;align-items:center;justify-content:center;flex-direction:row;color:#333;font-size:18px;line-height:24px;border-bottom:1px solid #d8d8d8}.community-history>.container>.title>.el-icon-close[data-v-83328252]{position:absolute;top:32px;right:36px;color:#333;font-size:18px;line-height:18px}.community-history>.container>.box[data-v-83328252]{padding:33px 37px 39px 36px}.community-history>.container>.box>.content[data-v-83328252]{height:396px;position:relative;background:linear-gradient(180deg,#dae5ff,#fff)}.community-history>.container>.box>.content[data-v-83328252],.community-history>.container>.box>.content>.title[data-v-83328252]{border-radius:10px;opacity:1;box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 4px 7px 0 rgba(0,0,0,.3)}.community-history>.container>.box>.content>.title[data-v-83328252]{display:grid;height:51.5px;align-items:center;background-color:#201b36;grid-template-columns:repeat(3,1fr);color:#333;font-size:14px;line-height:19px;background:linear-gradient(180deg,#dae5ff,#fff)}.community-history>.container>.box>.content>.list[data-v-83328252]{height:calc(100% - 51.5px);overflow:hidden auto}.community-history>.container>.box>.content>.list>.list-item[data-v-83328252]{display:grid;height:51.5px;grid-template-columns:repeat(3,1fr);color:#333;font-size:14px;align-items:center}.community-history>.container>.box>.content>.empty[data-v-83328252]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#333;font-size:14px;line-height:19px;display:flex;align-items:center;justify-content:center;flex-direction:column}.community-history>.container>.box>.content>.empty>img[data-v-83328252]{width:100px;margin-bottom:17px}@media screen and (max-width:736px){.community-history>.container[data-v-83328252]{width:9.2rem;border-radius:18px;opacity:1;background:#fff;box-sizing:border-box;border:1px solid #082d7e}.community-history>.container>.title[data-v-83328252]{padding:0 20px;height:79px;position:relative;display:flex;align-items:center;justify-content:flex-start;flex-direction:row;color:#333;font-size:18px;line-height:24px;border-bottom:1px solid #d8d8d8}.community-history>.container>.title>img[data-v-83328252]{width:26px;margin-right:10px}.community-history>.container>.title>.el-icon-close[data-v-83328252]{position:absolute;top:32px;right:36px;color:#333;font-size:18px;line-height:18px}.community-history>.container>.box[data-v-83328252]{padding:20px}.community-history>.container>.box>.content[data-v-83328252]{height:396px;position:relative;background:linear-gradient(180deg,#dae5ff,#fff)}.community-history>.container>.box>.content[data-v-83328252],.community-history>.container>.box>.content>.title[data-v-83328252]{border-radius:10px;opacity:1;box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 4px 7px 0 rgba(0,0,0,.3)}.community-history>.container>.box>.content>.title[data-v-83328252]{display:grid;height:51.5px;align-items:center;background-color:#201b36;grid-template-columns:repeat(3,1fr);color:#333;font-size:14px;line-height:19px;background:linear-gradient(180deg,#dae5ff,#fff)}.community-history>.container>.box>.content>.list[data-v-83328252]{height:320px;overflow:hidden auto}.community-history>.container>.box>.content>.list>.list-item[data-v-83328252]{display:grid;height:37px;grid-template-columns:repeat(3,1fr);color:#333;font-size:14px;align-items:center}.community-history>.container>.box>.content>.empty[data-v-83328252]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#333;font-size:14px;line-height:19px;display:flex;align-items:center;justify-content:center;flex-direction:column}.community-history>.container>.box>.content>.empty>img[data-v-83328252]{width:100px;margin-bottom:17px}}",""]),t.exports=i},a845:function(t,i,e){var a=e("9955");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("499e").default;n("8d321b80",a,!0,{sourceMap:!1,shadowMode:!1})},d138:function(t,i,e){t.exports=e.p+"img/copy.c8bfb9ac.svg"},dede:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'.community[data-v-dd6af304]{padding-top:15px}.community>.header[data-v-dd6af304]{display:flex;align-items:center;justify-content:space-between;flex-direction:row;padding-right:70px;background-size:575px 348px;background-repeat:no-repeat;background-position:441px -21px;background-image:radial-gradient(rgba(94,144,255,.6),transparent,transparent)}.community>.header>.title[data-v-dd6af304]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column}.community>.header>.title>h2[data-v-dd6af304]{font-weight:800;margin-bottom:15px;color:#082d7e;font-size:30px;line-height:40px}.community>.header>.title>p[data-v-dd6af304]{width:490px;text-align:left;color:#3d3d3d;font-size:14px;line-height:19px}.community>.header>img[data-v-dd6af304]{width:480px}.community>.header>.banner[data-v-dd6af304]{display:none}.community>.info[data-v-dd6af304]{display:flex;align-items:center;justify-content:space-between;flex-direction:row;margin-top:-9px}.community>.info>div[data-v-dd6af304]{border-radius:20px}.community>.info>div.take-form[data-v-dd6af304]{width:385px;flex-shrink:0;margin-right:12px;padding:29px 28px;background:linear-gradient(180deg,#dae5ff,#fff);box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 4px 7px 0 rgba(0,0,0,.3)}.community>.info>div.take-form>.title[data-v-dd6af304]{display:flex;align-items:center;justify-content:space-between;flex-direction:row;color:#e33bed;font-size:14px;line-height:19px}.community>.info>div.take-form>.title>.text[data-v-dd6af304]{display:flex;align-items:center;justify-content:space-between;flex-direction:row;font-weight:700;color:#3d3d3d;font-size:18px;line-height:24px}.community>.info>div.take-form>.title>.text>img[data-v-dd6af304]{width:24px;margin-right:9px}.community>.info>div.take-form>.title>.click[data-v-dd6af304]{color:#333}.community>.info>div.take-form>.earns[data-v-dd6af304]{display:grid;margin-top:37px;grid-template-columns:repeat(2,1fr)}.community>.info>div.take-form>.earns>div[data-v-dd6af304]{display:flex;align-items:center;justify-content:center;flex-direction:column}.community>.info>div.take-form>.earns>div>span[data-v-dd6af304]:first-child{font-size:26px;line-height:35px;font-weight:700;color:#082d7e}.community>.info>div.take-form>.earns>div>span[data-v-dd6af304]:nth-child(2){margin-top:14px;color:#082d7e;font-size:16px;line-height:21px}.community>.info>div.take-form>.earns>div.earn>span[data-v-dd6af304]:first-child{color:#cc1cf7}.community>.info>div.take-form>.earns>div.earned>span[data-v-dd6af304]:first-child{color:#28b1f5}.community>.info>div.take-form>button[data-v-dd6af304]{width:100%;height:50px;margin-top:39px}.community>.info>div.datas[data-v-dd6af304]{width:100%;padding:50px 0 43px;background:linear-gradient(180deg,#dae5ff,#fff);box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 4px 7px 0 rgba(0,0,0,.3)}.community>.info>div.datas>div[data-v-dd6af304]{display:grid}.community>.info>div.datas>div.powers[data-v-dd6af304]{grid-template-columns:repeat(2,1fr)}.community>.info>div.datas>div.earns[data-v-dd6af304]{margin-top:61px;grid-template-columns:repeat(3,1fr)}.community>.info>div.datas>div>div[data-v-dd6af304]{display:flex;align-items:center;justify-content:center;flex-direction:column}.community>.info>div.datas>div>div>.title[data-v-dd6af304]{color:#082d7e;font-size:16px;line-height:21px}.community>.info>div.datas>div>div>.data[data-v-dd6af304]{margin-top:15px;font-weight:700;color:#333;font-size:20px;line-height:27px}.community>.info>div.datas>div>div.splint-line[data-v-dd6af304]:not(:last-child){position:relative}.community>.info>div.datas>div>div.splint-line[data-v-dd6af304]:not(:last-child):after{content:"";width:1px;height:55px;position:absolute;right:0;background-color:#7087d2}.community>.team[data-v-dd6af304]{height:459px;margin-top:13px;border-radius:20px;padding:33px 35px 0 34px;border-radius:30px;opacity:1;background:linear-gradient(180deg,#dae5ff,#fff);box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 8px 14px 0 rgba(0,0,0,.3)}.community>.team>.header[data-v-dd6af304],.community>.team>.header>.title[data-v-dd6af304]{display:flex;align-items:center;justify-content:space-between;flex-direction:row}.community>.team>.header>.title[data-v-dd6af304]{color:#3d3d3d;font-size:18px;line-height:23px;font-weight:700}.community>.team>.header>.title>img[data-v-dd6af304]{width:24px;margin-right:16px}.community>.team>.header>.invite-code[data-v-dd6af304]{display:flex;align-items:center;justify-content:space-between;flex-direction:row;color:#3d3d3d;font-size:16px;line-height:21px}.community>.team>.header>.invite-code>.code-container[data-v-dd6af304]{display:flex;align-items:center;justify-content:space-between;flex-direction:row;margin-left:7px;padding:8px 16px;border-radius:10px;background:linear-gradient(180deg,#dae5ff,#fff);border:1px solid #333!important;color:#999;font-size:14px;line-height:19px}.community>.team>.header>.invite-code>.code-container>span[data-v-dd6af304]{width:209px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.community>.team>.header>.invite-code>.code-container>img[data-v-dd6af304]{width:20.81px;margin-left:14px}.community>.team>.content[data-v-dd6af304]{height:324px;margin-top:22px}.community>.team>.content[data-v-dd6af304],.community>.team>.content>.title[data-v-dd6af304]{border-radius:10px;background:linear-gradient(180deg,#dae5ff,#fff);box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 4px 7px 0 rgba(0,0,0,.3);position:relative}.community>.team>.content>.title[data-v-dd6af304]{height:50px;display:grid;grid-template-columns:repeat(3,1fr);color:#333;font-size:14px;line-height:50px}.community>.team>.content>.teams[data-v-dd6af304]{height:calc(100% - 50px);color:#8178c7;font-size:14px;line-height:19px}.community>.team>.content>.teams>.team-item[data-v-dd6af304]{height:60px;display:grid;align-items:center;grid-template-columns:repeat(3,1fr)}.community>.team>.content>.teams>.team-item .el-button[data-v-dd6af304]{padding:8px 18px;line-height:18px;background-image:none;background-color:#40267e}.community>.team>.content>.empty[data-v-dd6af304]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;flex-direction:column;color:#7087d2;font-size:14px;line-height:19px}.community>.team>.content>.empty>img[data-v-dd6af304]{width:100px;margin-bottom:17px}.community>.team>.bind-container[data-v-dd6af304]{width:380px;margin:75px auto 0;color:#333;font-size:18px;line-height:24px;display:flex;align-items:center;justify-content:center;flex-direction:column}.community>.team>.bind-container>input[data-v-dd6af304]{width:100%;height:56px;outline:none;margin-top:27px;text-align:center;border-radius:10px;opacity:1;background:linear-gradient(180deg,#dae5ff,#fff);border:1px solid #082d7e;color:#999;font-size:14px;line-height:19px}.community>.team>.bind-container>input[data-v-dd6af304]::-moz-placeholder{color:#999}.community>.team>.bind-container>input[data-v-dd6af304]::placeholder{color:#999}.community>.team>.bind-container>button[data-v-dd6af304]{width:100%;height:50px;margin-top:33px}@media screen and (max-width:1000px){.community[data-v-dd6af304]{overflow:hidden;padding:17px 15px 10px}.community>.header[data-v-dd6af304]{padding-right:0;position:relative;background-image:none}.community>.header>.title>h2[data-v-dd6af304]{font-size:18px;line-height:24px;margin-bottom:8px;color:#082d7e}.community>.header>.title>p[data-v-dd6af304]{width:6.5333rem;font-size:12px;line-height:17.6px;color:#3d3d3d}.community>.header>img[data-v-dd6af304]{display:none}.community>.header>.banner[data-v-dd6af304]{display:block;position:absolute;right:-30px;z-index:-1}.community>.header>.banner>img[data-v-dd6af304]{width:175px}.community>.info[data-v-dd6af304]{margin-top:42px;flex-direction:column}.community>.info>div.take-form[data-v-dd6af304]{width:100%;margin-right:0;margin-bottom:14px;padding:28px 21px 38px 18px;border-radius:15px;opacity:1;background:linear-gradient(180deg,#dae5ff,#fff);box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 4px 7px 0 rgba(0,0,0,.3)}.community>.info>div.take-form>.title[data-v-dd6af304]{font-size:12px;line-height:16px}.community>.info>div.take-form>.title>.text[data-v-dd6af304]{font-size:14px;line-height:19px;color:#3d3d3d}.community>.info>div.take-form>.title>.click[data-v-dd6af304]{color:#333}.community>.info>div.take-form>.earns>div>span[data-v-dd6af304]:first-child{color:#082d7e!important}.community>.info>div.take-form>.earns>div>span[data-v-dd6af304]:nth-child(2){margin-top:12px;font-size:14px;line-height:19px;color:#082d7e}.community>.info>div.take-form>button[data-v-dd6af304]{margin-top:25px}.community>.info>div.datas[data-v-dd6af304]{padding:37px 16px 31px;border-radius:15px;opacity:1;background:linear-gradient(180deg,#dae5ff,#fff);box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 4px 7px 0 rgba(0,0,0,.3)}.community>.info>div.datas>div.powers[data-v-dd6af304]{grid-template-columns:repeat(2,1fr)}.community>.info>div.datas>div>div>.title[data-v-dd6af304]{font-size:12px;line-height:16px;color:#082d7e}.community>.info>div.datas>div>div>.data[data-v-dd6af304]{margin-top:8px;font-size:16px;line-height:21px;color:#333}.community>.info>div.datas>div>div.splint-line[data-v-dd6af304]:after{height:50px}.community>.info>div.datas>div.earns[data-v-dd6af304]{margin-top:26px;border-radius:10px;row-gap:15px;padding:23px 19px 23px 16px;grid-template-columns:none;grid-template-rows:repeat(3,1fr);background:#fff;border:1px solid #082d7e}.community>.info>div.datas>div.earns>div[data-v-dd6af304]{display:flex;align-items:center;justify-content:space-between;flex-direction:row}.community>.info>div.datas>div.earns>div>.data[data-v-dd6af304]{margin-top:0}.community>.info>div.datas>div.earns>div.splint-line>.title[data-v-dd6af304]{color:#333}.community>.info>div.datas>div.earns>div.splint-line>.data[data-v-dd6af304]{color:#3d3d3d}.community>.info>div.datas>div.earns>div.splint-line[data-v-dd6af304]:after{display:none}.community>.team[data-v-dd6af304]{height:auto;margin-top:15px;padding:26px 22px 43px;border-radius:15px;opacity:1;background:linear-gradient(180deg,#dae5ff,#fff);box-sizing:border-box;border:0 solid #082d7e;box-shadow:0 4px 7px 0 rgba(0,0,0,.3)}.community>.team>.header[data-v-dd6af304]{align-items:flex-start;flex-direction:column;color:#3d3d3d}.community>.team>.header>.title[data-v-dd6af304]{font-size:14px;line-height:18px}.community>.team>.header>.title>img[data-v-dd6af304]{margin-right:9px}.community>.team>.header>.invite-code[data-v-dd6af304]{width:100%;margin-top:30px;align-items:flex-start;flex-direction:column;font-size:14px;line-height:19px}.community>.team>.header>.invite-code>.code-container[data-v-dd6af304]{width:100%;margin-left:1px;margin-top:12px;padding:8px 10px 8px 13px}.community>.team>.header>.invite-code>.code-container>span[data-v-dd6af304]{width:5.5733rem;text-align:left}.community>.team>.header>.invite-code>.code-container>img[data-v-dd6af304]{margin-left:0}.community>.team>.content[data-v-dd6af304]{height:350px}.community>.team>.content>.title[data-v-dd6af304]{border:none;height:38.5px;font-size:12px;line-height:38.5px;background-color:#201b36;grid-template-columns:repeat(2,1fr)}.community>.team>.content>.title>span[data-v-dd6af304]{overflow:hidden;text-overflow:ellipsis}.community>.team>.content>.title>span[data-v-dd6af304]:nth-child(2){display:none}.community>.team>.content>.teams[data-v-dd6af304]{height:calc(100% - 38.5px);font-size:12px;line-height:16px}.community>.team>.content>.teams>.team-item[data-v-dd6af304]{height:35px;grid-template-columns:repeat(2,1fr)}.community>.team>.content>.teams>.team-item>span[data-v-dd6af304]:nth-child(2){display:none}.community>.team>.content>.teams>.team-item .el-button[data-v-dd6af304]{padding:4px 9px;font-size:12px;line-height:16px}.community>.team>.bind-container[data-v-dd6af304]{width:100%;margin-top:34px;font-size:14px;line-height:19px}.community>.team>.bind-container>span[data-v-dd6af304]{color:#333}.community>.team>.bind-container>input[data-v-dd6af304]{border-radius:10px;opacity:1;background:linear-gradient(180deg,#dae5ff,#fff);border:1px solid #082d7e;color:#999}}',""]),t.exports=i},ee71:function(t,i,e){"use strict";e("301e")},f697:function(t,i,e){t.exports=e.p+"img/community-banner.3b5f8cf7.png"},f7d6:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t._self._c;t._self._setupProxy;return i("div",{staticClass:"community"},[i("div",{staticClass:"header"},[i("div",{staticClass:"title"},[i("h2",[t._v(t._s(t.$t("community.text1")))]),i("p",[t._v(t._s(t.$t("community.text2")))]),i("p",[t._v(t._s(t.$t("community.text3")))])]),i("img",{attrs:{src:e("f697")}}),t._m(0)]),i("div",{staticClass:"info"},[i("div",{staticClass:"take-form"},[i("div",{staticClass:"title"},[i("div",{staticClass:"text"},[i("img",{attrs:{src:e("1138")}}),i("span",[t._v(t._s(t.$t("community.text4")))])]),i("span",{staticClass:"click",on:{click:t.openHistory}},[t._v(t._s(t.$t("community.text5")))])]),i("div",{staticClass:"earns"},[i("div",{staticClass:"earn"},[i("span",[t._v(t._s(t.pendTake.toFixed(2)))]),i("span",[t._v(t._s(t.$t("community.text6")))])]),i("div",{staticClass:"earned"},[i("span",[t._v(t._s(t.taked.toFixed(2)))]),i("span",[t._v(t._s(t.$t("community.text7")))])])]),i("el-button",{attrs:{disabled:t.pendTake<=0,loading:t.isTaking},on:{click:t.takeReward}},[t._v(t._s(t.$t("community.text"+(t.isTaking?22:8))))])],1),i("div",{staticClass:"datas"},[i("div",{staticClass:"powers"},[i("div",{staticClass:"splint-line"},[i("span",{staticClass:"title"},[t._v(t._s(t.$t("community.text9")))]),i("span",{staticClass:"data"},[t._v(t._s(t.totalPower.toFixed(2)))])]),i("div",[i("span",{staticClass:"title"},[t._v(t._s(t.$t("community.text10")))]),i("span",{staticClass:"data"},[t._v(t._s(t.myPower.toFixed(2)))])])]),i("div",{staticClass:"earns"},[i("div",{staticClass:"splint-line"},[i("span",{staticClass:"title"},[t._v(t._s(t.$t("community.text11")))]),i("span",{staticClass:"data"},[t._v(t._s(t.shareEarn.toFixed(2)))])]),i("div",{staticClass:"splint-line"},[i("span",{staticClass:"title"},[t._v(t._s(t.$t("community.text12")))]),i("span",{staticClass:"data"},[t._v(t._s(t.lNodeShare.toFixed(2)))])]),i("div",{staticClass:"splint-line"},[i("span",{staticClass:"title"},[t._v(t._s(t.$t("community.text13")))]),i("span",{staticClass:"data"},[t._v(t._s(t.hNodeShare.toFixed(2)))])])])])]),i("div",{staticClass:"team",attrs:{id:"team"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.parentOf,expression:"parentOf"}],staticClass:"header"},[i("div",{staticClass:"title"},[i("img",{attrs:{src:e("8316")}}),i("span",[t._v(t._s(t.$t("community.text14")))])]),i("div",{staticClass:"invite-code"},[i("span",[t._v(t._s(t.$t("community.text15")))]),i("div",{staticClass:"code-container"},[i("span",[t._v(t._s(t.inviteLink))]),i("img",{staticClass:"click",attrs:{src:e("d138")},on:{click:t.copyLink}})])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.parentOf,expression:"parentOf"}],staticClass:"content"},[i("div",{staticClass:"title"},[i("span",[t._v(t._s(t.$t("community.text16")))]),i("span"),i("span",[t._v(t._s(t.$t("community.text17")))])]),i("div",{staticClass:"teams"},[t._l(t.children,(function(e){return[i("div",{staticClass:"team-item"},[i("span",[t._v(t._s(`${e.address.slice(0,3)}...${e.address.slice(-4)}`))]),i("span"),i("div",[i("span",{directives:[{name:"show",rawName:"v-show",value:e.earn,expression:"item.earn"}]},[t._v(t._s(e.earn?e.earn.toFixed(2):0))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.earn,expression:"!item.earn"}],attrs:{loading:e.finding},on:{click:function(i){return t.earnOf(e)}}},[t._v(t._s(t.$t("community.text23")))])],1)])]}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.children.length,expression:"!children.length"}],staticClass:"empty"},[i("img",{attrs:{src:e("3312")}}),i("span",[t._v(t._s(t.$t("community.text18")))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.parentOf,expression:"!parentOf"}],staticClass:"bind-container",attrs:{id:""}},[i("span",[t._v(t._s(t.$t("community.text19")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",placeholder:t.$t("community.text20")},domProps:{value:t.value},on:{input:function(i){i.target.composing||(t.value=i.target.value)}}}),i("el-button",{attrs:{loading:"trading"===t.tradingStatus},on:{click:t.makeRelation}},[t._v(t._s(t.$t("community.text2"+("trading"===t.tradingStatus?2:1))))])],1)]),i("community-history",{ref:"CommunityHistory"})],1)},n=[function(){var t=this,i=t._self._c;t._self._setupProxy;return i("div",{staticClass:"banner"},[i("img",{attrs:{src:e("f697")}})])}],o=e("5c96"),d=e("2f62"),s=e("8346"),r={components:{[o["Popover"].name]:o["Popover"],"community-history":()=>e.e("community").then(e.bind(null,"9360"))},data(){return{rootAddress:"",value:"",tradingStatus:"none",pendTake:0,taked:0,totalPower:0,myPower:0,shareEarn:0,lNodeShare:0,hNodeShare:0,inviteLink:"",isTaking:!1,children:[],isPC:!Object(s["b"])()}},computed:{...Object(d["b"])(["parentOf","web3","contracts","address"])},created(){this.$route.query.inviter&&(this.value=this.$route.query.inviter,sessionStorage.setItem("inviterAddress",this.$route.query.inviter)),this.contracts&&this.getData()},mounted(){this.parentOf||document.querySelector("#team").scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},methods:{openHistory(){this.$refs.CommunityHistory.open()},copyLink(){this.$copyText(this.inviteLink).then(t=>{Object(s["c"])(this.$t("community.tip3"),"success")},t=>{Object(s["c"])(this.$t("community.tip4"),"error")})},earnOf(t){t.finding=!0,this.contracts.DynamicFarm.methods.earned(t.address).call((i,e)=>{i||(t.earn=e.fromWei(),t.finding=!1,sessionStorage.setItem("teams",JSON.stringify(this.children)))})},takeReward(){const t=this.contracts.DynamicFarm.methods.takeReward();this.isTaking=!0,t.call({from:this.address},(i,e)=>{i?this.isTaking=!1:t.send({from:this.address}).on("receipt",t=>{this.getData(),this.isTaking=!1}).on("error",t=>{console.error(t),this.isTaking=!1})})},getData(){document.getElementById("team");this.parentOf||sessionStorage.getItem("inviterAddress")&&(this.value=sessionStorage.getItem("inviterAddress")),this.address&&this.userInfo(),this.contracts.Family.methods.rootAddress().call((t,i)=>{t||(this.rootAddress=i,this.address.toBN().eq(this.rootAddress.toLowerCase())&&this.$store.commit("setParentOf",this.rootAddress))})},userInfo(){location.href.includes("?")?location.href.split("?")[0]:location.href;this.inviteLink="https://ccswap.cc/#/community?inviter="+this.address,this.contracts.DynamicFarm.methods.earned(this.address).call((t,i)=>{t||(this.pendTake=i.fromWei())}),this.contracts.DynamicFarm.methods.userTakedOf(this.address).call((t,i)=>{t||(this.taked=i.fromWei())}),this.contracts.EpochController.methods.getCurrentEpoch().call((t,i)=>{t||(this.contracts.DynamicFarm.methods.shareRewardOfEpoch(i).call((t,i)=>{t||(this.totalPower=i.totalPower.fromWei())}),this.contracts.DynamicFarm.methods.userDataOfEpoch(this.address,i).call((t,i)=>{t||(this.myPower=i.powerT.fromWei())}))}),this.contracts.DynamicFarm.methods.shareEarn(this.address).call((t,i)=>{t||(this.shareEarn=i.fromWei())}),this.contracts.DynamicFarm.methods.lastEpochData(this.address).call((t,i)=>{t||(this.lNodeShare=i.lNodeShare.fromWei(),this.hNodeShare=i.hNodeShare.fromWei())});JSON.parse(sessionStorage.getItem("teams"));this.contracts.Family.methods.childrenOf(this.address).call((t,i)=>{t||(this.children=i.map(t=>({address:t,earn:!1,finding:!1})))})},async makeRelation(){if(!this.web3.utils.isAddress(this.value))return Object(s["c"])(this.$t("community.tip1"),"error");if(this.value!=this.rootAddress){const t=await this.contracts.Family.methods.parentOf(this.value).call();if(t.toBN().lte(0))return Object(s["c"])(this.$t("community.tip2"),"error")}const t=this.contracts.Family.methods.makeRelation(this.value);this.tradingStatus="trading",t.call({from:this.address},(i,e)=>{i||t.send({from:this.address}).on("receipt",t=>{this.$store.commit("setParentOf",this.value),this.getData(),sessionStorage.setItem(this.address.toLowerCase(),this.value),this.tradingStatus="none"}).on("error",t=>{this.tradingStatus="none",console.error(t)})})}}},c=r,m=c,l=(e("ee71"),e("2877")),p=Object(l["a"])(m,a,n,!1,null,"dd6af304",null);i["default"]=p.exports}}]);